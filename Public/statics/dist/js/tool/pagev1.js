$(function(){function i(i,e){if(n.totalpage=parseInt(i),"number"==typeof n.totalpage)if(n.totalpage>10)$("#pagelist .num").html('<li class="active">1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li>');else{n.maxpage=n.totalpage;for(var a="",l=0,t=i;t>l;l++)a+=0==l?'<li class="active">'+(l+1)+"</li>":"<li>"+(l+1)+"</li>";$("#pagelist .num").html(a),e(1)}else console.log("页数是非数字，请确认！"),n.totalpage=1,n.minpage=1,n.maxpage=1;console.log(n.totalpage,n.currentpage,n.minpage,n.maxpage)}function e(i){return 0==n.totalpage?0:void(1==n.currentpage&&1==n.currentpage?console.log("这是第一页，不能切换！"):n.currentpage<=n.minpage?(n.minpage-=10,n.maxpage=n.minpage+9,n.currentpage--,$("#pagelist .num").find("li").removeClass("active"),$("#pagelist .num").find("li").eq(n.currentpage).addClass("active"),$("#pagelist .num").html("<li>"+n.minpage+"</li><li>"+(n.minpage+1)+"</li><li>"+(n.minpage+2)+"</li><li>"+(n.minpage+3)+"</li><li>"+(n.minpage+4)+"</li><li>"+(n.minpage+5)+"</li><li>"+(n.minpage+6)+"</li><li>"+(n.minpage+7)+"</li><li>"+(n.minpage+8)+'</li><li class="active">'+(n.minpage+9)+"</li>"),i(n.currentpage)):(n.currentpage--,$("#pagelist .num").find("li").removeClass("active"),$("#pagelist .num").find("li").eq(n.currentpage%10-1).addClass("active"),i(n.currentpage)))}function a(i){if(0==n.totalpage)return 0;if(n.currentpage==n.totalpage)console.log("这是最后一页，不能切换！");else if(n.currentpage==n.maxpage&&n.maxpage+10<=n.totalpage)n.minpage+=10,n.maxpage=n.minpage+9,n.currentpage++,$("#pagelist .num").find("li").removeClass("active"),$("#pagelist .num").find("li").eq(n.currentpage%10-1).addClass("active"),$("#pagelist .num").html('<li class="active">'+n.minpage+"</li><li>"+(n.minpage+1)+"</li><li>"+(n.minpage+2)+"</li><li>"+(n.minpage+3)+"</li><li>"+(n.minpage+4)+"</li><li>"+(n.minpage+5)+"</li><li>"+(n.minpage+6)+"</li><li>"+(n.minpage+7)+"</li><li>"+(n.minpage+8)+"</li><li>"+(n.minpage+9)+"</li>"),i(n.currentpage);else if(n.currentpage==n.maxpage){n.minpage+=10,n.maxpage=n.totalpage,n.currentpage++;for(var e="",a=0,l=n.maxpage-n.minpage;l>=a;a++)e+=0==a?'<li class="active">'+(n.minpage+a)+"</li>":"<li>"+(n.minpage+a)+"</li>";$("#pagelist .num").html(e),i(n.currentpage)}else n.currentpage++,$("#pagelist .num").find("li").removeClass("active"),$("#pagelist .num").find("li").eq(n.currentpage%10-1).addClass("active"),i(n.currentpage)}function l(i,e){$("#pagelist .num").find("li").removeClass("active"),$(e).addClass("active"),n.currentpage=parseInt($(e).html()),i(n.currentpage)}var n={currentpage:1,minpage:1,maxpage:10,totalpage:1};window.pageInit=function(n,t){$("#pagelist .pre").off().on("click",function(){e(t)}),$("#pagelist .next").off().on("click",function(){a(t)}),$("#pagelist .num").off().on("click","li",function(){_this=this,l(t,_this)}),i(n,t)}});