{"version":3,"sources":["vote/vote.js"],"names":["$","page","init","on","commentSendClick","ruleTabClick","loadStar","swtichTab","swtichRule","initStar","i","this","data","hide","show","removeClass","addClass","find","_index","index","eq","hover","e","type","stop","fadeIn","fadeOut","voteIn","voteOut","text","trim","val","alert","html","STATIC_FILE_ROOT","prepend","parent","_color","_sex","ajax","dataType","url","a","sex","success","json","status","_html","length","codeimg","name","votes","headimg","off","img","msg"],"mappings":"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","file":"vote/vote.js","sourcesContent":["$(function () {\r\n\r\n\r\n    var page = {\r\n        init: function () {\r\n            //$(\"#J_ConStars .inner .list a\").hover(page.hover);\r\n            //$(\"#J_ConRule .inner .content1 .item\").hover(page.hover);\r\n\r\n            $(\"#J_CommentSendbox .submit\").on(\"click\", page.commentSendClick);\r\n            $(\"#J_ConRule .tab a\").on(\"click\", page.ruleTabClick);\r\n            $(\"#groupColorList\").on(\"click\",\"li\",page.loadStar);\r\n            $(\"#groupSexList\").on(\"click\",\"li\",page.loadStar);\r\n\r\n            $(\"#conStarGroup\").on(\"click\",\"li\",page.swtichTab);\r\n            $(\"#judgeRuleName\").on(\"click\",\"li\",page.swtichRule);\r\n            page.initStar()\r\n        },\r\n        ruleTabClick: function () {\r\n            var i = $(this).data(\"i\");\r\n            $(\"#J_ConRule .inner .content\").hide();\r\n            $(\"#J_ConRule .inner .content\" + i).show();\r\n            $(\"#J_ConRule .tab a.c\").removeClass(\"c\");\r\n            $(this).addClass(\"c\");\r\n        },\r\n        swtichRule: function(){\r\n            $(\"#judgeRuleName\").find(\"li\").removeClass(\"active\");\r\n            $(this).addClass(\"active\");\r\n            var _index = $(this).index();\r\n            $(\"#judgeRuleContent\").find(\"li\").hide();\r\n            $(\"#judgeRuleContent\").find(\"li\").eq(_index).show()\r\n        },\r\n        hover: function (e) {\r\n            if (e.type == \"mouseenter\") {\r\n                $(this).find(\".hover\").stop(true, true).fadeIn(100);\r\n            } else {\r\n                $(this).find(\".hover\").stop(true, true).fadeOut(100);\r\n            }\r\n        },\r\n        voteIn: function () {\r\n            $(this).find(\".hover\").stop(true, true).fadeIn(300);\r\n            $(this).find(\".txt\").stop(true, true).fadeOut(100);\r\n        },\r\n        voteOut: function () {\r\n            $(this).find(\".hover\").stop(true, true).fadeOut(100);\r\n            $(this).find(\".txt\").stop(true, true).fadeIn(100);\r\n        },\r\n        commentSendClick: function (e) {\r\n            var text = $.trim($(\"#J_CommentSendbox textarea\").val());\r\n            if (text == \"\") {\r\n                alert(\"请输入评论内容\");\r\n            } else {\r\n                var html = \"<div class='item clearFix'><div class='head'><img src='\" + STATIC_FILE_ROOT + \"statics/images/p/a10.jpeg' /></div><div class='info'><span>V网友：清晰白阳2 发表日期：2015-06-07 19:56</span><p>\" + text + \"</p></div></div>\";\r\n                $(\"#J_CommentList\").prepend(html);\r\n                $(\"#J_CommentSendbox textarea\").val(\"\");\r\n            }\r\n        },\r\n        swtichTab: function(){\r\n            $(\"#conStarGroup\").find(\"li\").removeClass(\"active\");\r\n            $(this).addClass(\"active\");\r\n            var _index = $(this).index();\r\n            $(\"#starGroups\").find(\".group\").hide();\r\n            $(\"#starGroups\").find(\".group\").eq(_index).show();\r\n        },\r\n        //每次点击后加载 列表\r\n        loadStar: function(){\r\n            $(this).parent().find(\"li\").removeClass(\"active\");\r\n            $(this).addClass(\"active\");\r\n            var _color = $(\"#groupColorList\").find(\".active\").data(\"color\");\r\n            var _sex = $(\"#groupSexList\").find(\".active\").data(\"sex\");\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"json\",\r\n                data: {\r\n                    url: \"/index.php?m=Home&c=Index&\",\r\n                    a: _color,\r\n                    sex: _sex\r\n                },\r\n                success: function(json){\r\n                    //alert(json.status)\r\n                    if(json.status == 0){\r\n                        var _html = \"\";\r\n                        for(var i = 0; i < json.data.length; i++ ){\r\n                            _html += '<div class=\"item\">\\\r\n                            <div class=\"vote hover\">\\\r\n                                <p>扫描二维码投票</p>\\\r\n                                <img src=\"'+ json.data[i].codeimg +'\"/>\\\r\n                                </div>\\\r\n                                <div class=\"txt\">\\\r\n                                <p>'+ json.data[i].name +'</p>\\\r\n                        <span>当前票数：'+ json.data[i].votes +'</span>\\\r\n                        </div>\\\r\n                        <img src=\"./Uploads'+ json.data[i].headimg +'\"/>\\\r\n                            </div>'\r\n                        }\r\n                        $(\"#insertgroup\").html(_html);\r\n\r\n                        $(\"#J_ConVote .inner .item\").off().hover(page.voteIn, page.voteOut);\r\n\r\n                    }else{\r\n                        //alert(json.msg)\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        //初始化加载 明星列表\r\n        initStar: function(){\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"json\",\r\n                data: {\r\n                    url: \"/index.php?m=Home&c=Vote&\",\r\n                    a: \"redgroup\",\r\n                    sex: \"2\"\r\n                },\r\n                success: function(json){\r\n                    if(json.status == 0){\r\n                        var _html = \"\";\r\n                        for(var i = 0; i < json.data.length; i++ ){\r\n                            _html += '<div class=\"item\">\\\r\n                            <div class=\"vote hover\">\\\r\n                                <p>扫描二维码投票</p>\\\r\n                                <img src=\"'+ json.data[i].codeimg +'\"/>\\\r\n                                </div>\\\r\n                                <div class=\"txt\">\\\r\n                                <p>'+ json.data[i].name +'</p>\\\r\n                        <span>当前票数：'+ json.data[i].votes +'</span>\\\r\n                        </div>\\\r\n                        <img src=\"./Uploads'+ json.data[i].img +'\"/>\\\r\n                            </div>'\r\n                        }\r\n                        $(\"#insertgroup\").html(_html);\r\n\r\n                        $(\"#J_ConVote .inner .item\").off().hover(page.voteIn, page.voteOut);\r\n\r\n                    }else{\r\n                        alert(json.msg)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    };\r\n    page.init();\r\n\r\n\r\n});"],"sourceRoot":"/source/"}